import React from "react";

export default function ClassRoutine() {
  const userData = JSON.parse(localStorage.getItem("userData"));

  if (!userData || userData.role !== "student") {
    return (
      <p className="text-center text-red-500 mt-10">
        ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА рж╣рж┐рж╕рзЗржмрзЗ рж▓ржЧржЗржи ржХрж░рзБржи
      </p>
    );
  }

  const { grade, religion } = userData;
  const showMaktab = religion === "ржЗрж╕рж▓рж╛ржо";

  // -----------------------------
  // Routine map (from your image)
  // -----------------------------
  const routineMap = {
    "ржкрзНрж▓рзЗ-ржП": [
      { time: "рзп.рзйрзжтАУрззрзж.рзжрзл", text: "ржмрж╛ржВрж▓рж╛ тАУ рж╕рж╛ржерзА ржорзНржпрж╛ржбрж╛ржо" },
      { time: "рззрзж.рзжрзлтАУрззрзж.рзйрзл", text: "ржЧржгрж┐ржд тАУ рж╕рж╛рж╣рж┐ржжрж╛ ржорзНржпрж╛ржбрж╛ржо" },
      { time: "рззрзж.рзйрзлтАУрззрзз.рзжрзл", text: "ржЗржВрж░рзЗржЬрж┐ тАУ рж╕рж╛ржерзА ржорзНржпрж╛ржбрж╛ржо" },
      {
        time: "рззрзз.рзжрзлтАУрззрзз.рзйрзл",
        text: "рж╕рж╛ржзрж╛рж░ржг ржЬрзНржЮрж╛ржи / ржзрж░рзНржо / ржЫржмрж┐ ржЖржБржХрж╛ тАУ ржЗржнрж╛ ржорзНржпрж╛ржбрж╛ржо",
      },
    ],

    "ржкрзНрж▓рзЗ-ржмрж┐": [
      { time: "рзп.рзйрзжтАУрззрзж.рзжрзл", text: "ржЧржгрж┐ржд тАУ рж╕рж╛рж╣рж┐ржжрж╛ ржорзНржпрж╛ржбрж╛ржо" },
      { time: "рззрзж.рзжрзлтАУрззрзж.рзйрзл", text: "ржмрж╛ржВрж▓рж╛ тАУ ржЗржнрж╛ ржорзНржпрж╛ржбрж╛ржо" },
      {
        time: "рззрзж.рзйрзлтАУрззрзз.рзжрзл",
        text: "рж╕рж╛ржзрж╛рж░ржг ржЬрзНржЮрж╛ржи / ржзрж░рзНржо / ржЫржмрж┐ ржЖржБржХрж╛ (ржмрзБржХ: ржЗржВрж░рзЗржЬрж┐ рж╕рзНржкрзЛржХрзЗржи)",
      },
      { time: "рззрзз.рзжрзлтАУрззрзз.рзйрзл", text: "ржЗржВрж░рзЗржЬрж┐ тАУ рж╕рж╛ржерзА ржорзНржпрж╛ржбрж╛ржо" },
    ],

    ржирж╛рж░рзНрж╕рж╛рж░рж┐: [
      { time: "рзп.рзйрзжтАУрззрзж.рзжрзл", text: "ржЗржВрж░рзЗржЬрж┐ тАУ рж╕рж╛ржХрж┐ржм рж╕рзНржпрж╛рж░" },
      { time: "рззрзж.рзжрзлтАУрззрзж.рзйрзл", text: "ржмрж╛ржВрж▓рж╛ тАУ рж╕рж╛ржерзА ржорзНржпрж╛ржбрж╛ржо" },
      { time: "рззрзж.рзйрзлтАУрззрзз.рзжрзл", text: "ржЧржгрж┐ржд тАУ ржЗржнрж╛ ржорзНржпрж╛ржбрж╛ржо" },
      {
        time: "рззрзз.рзжрзлтАУрззрзз.рзйрзл",
        text: "ржзрж░рзНржо / ржЫржмрж┐ ржЖржБржХрж╛ / рж╕рж╛ржзрж╛рж░ржг ржЬрзНржЮрж╛ржи тАУ рж╕рж╛рж╣рж┐ржжрж╛ ржорзНржпрж╛ржбрж╛ржо",
      },
    ],

    ржУрзЯрж╛ржи: [
      { time: "рзп.рзйрзжтАУрззрзж.рзжрзл", text: "ржЗржВрж░рзЗржЬрж┐ тАУ ржЗржнрж╛ ржорзНржпрж╛ржбрж╛ржо" },
      { time: "рззрзж.рзжрзлтАУрззрзж.рзйрзл", text: "ржЧржгрж┐ржд тАУ рж╕рж╛ржХрж┐ржм рж╕рзНржпрж╛рж░" },
      { time: "рззрзж.рзйрзлтАУрззрзз.рзжрзл", text: "ржмрж╛ржВрж▓рж╛ тАУ рж╕рж╛рж╣рж┐ржжрж╛ ржорзНржпрж╛ржбрж╛ржо" },
      {
        time: "рззрзз.рзжрзлтАУрззрзз.рзйрзл",
        text: "ржЬрж╛ржирж╛ ржнрж╛рж▓рзЛ / Active English / ржзрж░рзНржо / ржЫржмрж┐ ржЖржБржХрж╛ тАУ рж╕рж╛ржХрж┐ржм рж╕рзНржпрж╛рж░",
      },
    ],
  };

  const routine = routineMap[grade] || [];

  return (
    <section className="min-h-screen bg-base-100 p-4">
      <div className="max-w-5xl mx-auto">
        <div className="card bg-base-100 shadow-xl">
          <div className="card-body">
            <h2 className="text-lg font-bold text-center mb-4">ржХрзНрж▓рж╛рж╕ рж░рзБржЯрж┐ржи</h2>

            {/* ===================== */}
            {/* ЁЯУ▒ Mobile View */}
            {/* ===================== */}
            <div className="block md:hidden">
              <table className="table table-zebra">
                <thead>
                  <tr>
                    <th>рж╕ржорзЯ</th>
                    <th>ржмрж┐рж╖рзЯ</th>
                  </tr>
                </thead>
                <tbody>
                  {showMaktab && (
                    <tr className="font-semibold text-green-600">
                      <td>рзо.рзйрзжтАУрзп.рзжрзж</td>
                      <td>ржоржХрзНрждржм</td>
                    </tr>
                  )}

                  {routine.map((item, i) => (
                    <tr key={i}>
                      <td className="whitespace-nowrap">{item.time}</td>
                      <td>{item.text}</td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>

            {/* ===================== */}
            {/* ЁЯЦея╕П Desktop View */}
            {/* ===================== */}
            <div className="hidden md:block overflow-x-auto">
              <table className="table table-bordered text-center">
                <thead>
                  <tr>
                    <th>рж╢рзНрж░рзЗржгрж┐</th>
                    {showMaktab && <th>рзо.рзйрзжтАУрзп.рзжрзж</th>}
                    <th>рзп.рзйрзжтАУрззрзж.рзжрзл</th>
                    <th>рззрзж.рзжрзлтАУрззрзж.рзйрзл</th>
                    <th>рззрзж.рзйрзлтАУрззрзз.рзжрзл</th>
                    <th>рззрзз.рзжрзлтАУрззрзз.рзйрзл</th>
                  </tr>
                </thead>

                <tbody>
                  <tr>
                    <td>{grade}</td>
                    {showMaktab && <td>ржоржХрзНрждржм</td>}
                    {routine.map((r, i) => (
                      <td key={i}>{r.text}</td>
                    ))}
                  </tr>
                </tbody>
              </table>
            </div>

            <p className="text-xs text-gray-500 mt-4">
              * рж░рзБржЯрж┐ржиржЯрж┐ рззрзо/рзжрзз/рзирзжрзирзм рждрж╛рж░рж┐ржЦ рж╣рждрзЗ ржХрж╛рж░рзНржпржХрж░
            </p>
          </div>
        </div>
      </div>
    </section>
  );
}
